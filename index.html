<!DOCTYPE html>
<html>
<head>
    <title>Page Title</title>
    <meta charset = "UTF-8"/>
</head>
<body>

    <div class = "button">
        <button type="button" onclick="play(this.value)" value = "Rock" class = "rock">Rock</button>
        <button type="button" onclick="play(this.value)" value = "Paper" class = "paper">Paper</button>
        <button type="button" onclick="play(this.value)" value = "Scissor" class = "scissor">Scissor</button>
    </div>

    <script>
        function computerPlay(){
            let max = 3;
            let min = 1;
             //random number 1, 2, or 3
            switch(Math.floor(Math.random() * (max - min + 1) + min)){
                case 1:
                    return "Rock"
                case 2:
                    return "Paper"
                case 3:
                    return "Scissor"
            }
        }
        
        function playRound(playerSelection, computerSelection) {
            let player = capitalize(playerSelection);

            if (player == "Rock" && computerSelection == "Paper" ||  
            player == "Paper" && computerSelection == "Scissor" ||
            player == "Scissor" && computerSelection == "Rock"){
                return 0;

            } else if (player == "Rock" && computerSelection == "Scissor" ||  
            player == "Paper" && computerSelection == "Rock" || 
            player == "Scissor" && computerSelection == "Paper"){
                return 1;

            } else {
                return 2;
            }
        }

        function capitalize(input) { 
            input = input.toLowerCase();
            return input.charAt(0).toUpperCase() + input.slice(1);
        }

        /*
        function play(){
            let playerChoice = "";
            choice = prompt("Choose one: rock, paper, scissor")
            playerChoice = capitalize(choice);
            computerSelection = computerPlay();
            if (playerChoice === "Rock" || playerChoice === "Paper" || playerChoice === "Scissor"){
                alert(`Round ${i}: ${playRound(playerChoice, computerSelection)}`);
                i += 1;
            } else {
                alert(`Please choose rock, paper, or scissor. You chose ${playerChoice}.`)
            }
        }
        */

        player_score = 0;
        computer_score = 0;
        round = 0;

        function play(val){
            playerChoice = val;
            computerSelection = computerPlay();
            let winner = playRound(playerChoice, computerSelection);
            if (winner == 0) { //computer
                computer_score += 1;
                alert(`Round: ${round}: You Lose! ${computerSelection} beats ${playerChoice}. Player: ${player_score} Computer: ${computer_score}`)
            } else if (winner == 1) { //player
                player_score += 1;
                alert(`Round: ${round}: You Win! ${playerChoice} beats ${computerSelection}. Player: ${player_score} Computer: ${computer_score}`)
            } else { //tie
                alert(`Round: ${round}: Tie! ${playerChoice} ties against ${computerSelection}. Player: ${player_score} Computer: ${computer_score}`)
            }
            round += 1;

            if (player_score == 5){
                alert("You Win!")
            } else if (computer_score == 5) {
                alert("Computer Win!")
            }
        }

    </script>
</body>
</html>